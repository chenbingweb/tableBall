require=function t(e,n,o){function i(s,r){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!r&&a)return a(s,!0);if(c)return c(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return i(n||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var c="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({ball:[function(t,e,n){"use strict";cc._RF.push(e,"e131fFrIXhFsZEuugFo+ZWF","ball"),cc.Class({extends:cc.Component,properties:{value:1},start:function(){this.body=this.node.getComponent(cc.RigidBody),this.start_x=this.node.x,this.start_y=this.node.y},onBeginContact:function(t,e,n){2!=n.node.groupIndex||(this.node.active=!1)},reset:function(){this.node.active=!0,this.node.x=this.start_x,this.node.y=this.start_y,this.body.linearVelocity=cc.p(0,0),this.body.angularVelocity=0}}),cc._RF.pop()},{}],cue:[function(t,e,n){"use strict";cc._RF.push(e,"adcadA8sEZFQrUuD59WrC1R","cue"),cc.Class({extends:cc.Component,properties:{SHOOT_POWER:18},start:function(){this.body=this.getComponent(cc.RigidBody)},shoot_at:function(t){var e=this.node.getPosition(),n=cc.pSub(t,e),o=.5*this.node.width,i=cc.pLength(n),c=i-o,s=c*this.SHOOT_POWER*n.x/i,r=c*this.SHOOT_POWER*n.y/i;this.body.applyLinearImpulse(cc.p(s,r),this.node.convertToWorldSpaceAR(cc.p(0,0)),!0),console.log(s,r)},onBeginContact:function(t,e,n){},onEndContact:function(t,e,n){},onPreSolve:function(t,e,n){this.node.active=!1},onPostSolve:function(t,e,n){}}),cc._RF.pop()},{}],enbale_phy:[function(t,e,n){"use strict";cc._RF.push(e,"d6b98LPqmdENpyQT79a2HBq","enbale_phy"),cc.Class({extends:cc.Component,properties:{is_debug:!1,gravity:cc.p(0,-320)},onLoad:function(){if(cc.director.getPhysicsManager().enabled=!0,this.is_debug){var t=cc.PhysicsManager.DrawBits;cc.director.getPhysicsManager().debugDrawFlags=t.e_jointBit|t.e_shapeBit}else cc.director.getPhysicsManager().debugDrawFlags=0;cc.director.getPhysicsManager().gravity=this.gravity}}),cc._RF.pop()},{}],game_scence:[function(t,e,n){"use strict";cc._RF.push(e,"f3533guKehGNaysgNsw4/AC","game_scence"),cc.Class({extends:cc.Component,properties:{ball_root:{type:cc.Node,default:null},white_ball:{type:cc.Node,default:null}},start:function(){this.is_game_start=!0,setTimeout(function(){},3e3)},check_game_over:function(){for(var t=0;t<this.ball_root.childrenCount;t++)if(1==this.ball_root.children[t].active)return;this.is_game_start=!1,this.scheduleOnce(this.reset_game.bind(this),5)},reset_game:function(){for(var t=0;t<this.ball_root.childrenCount;t++)this.ball_root.children[t].getComponent("ball").reset();this.white_ball.getComponent("white_ball").reset(),this.is_game_start=!0},update:function(t){this.is_game_start&&this.check_game_over()}}),cc._RF.pop()},{}],white_ball:[function(t,e,n){"use strict";cc._RF.push(e,"747f8s0fsFLLrn38Nh0DaXZ","white_ball"),cc.Class({extends:cc.Component,properties:{cue:{type:cc.Node,default:null},min_dis:20},onLoad:function(){},start:function(){var t=this;this.body=this.node.getComponent(cc.RigidBody),this.start_x=this.node.x,this.start_y=this.node.y,this.cue_inst=this.cue.getComponent("cue"),this.node.on(cc.Node.EventType.TOUCH_START,function(){console.log(1)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getLocation(),o=t.node.parent.convertToNodeSpaceAR(n),i=t.node.getPosition(),c=cc.pSub(o,i),s=cc.pLength(c);if(s<t.min_dis)t.cue.active=!1;else{t.cue.active=!0;var r=180*Math.atan2(c.y,c.x)/Math.PI;r=360-r,t.cue.rotation=r+180;var a=o,h=.5*t.cue.width;a.x+=h*c.x/s,a.y+=h*c.y/s,t.cue.position=a}}),this.node.on(cc.Node.EventType.TOUCH_END,function(){0!=t.cue.active&&t.cue_inst.shoot_at(t.node.getPosition())}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){0!=t.cue.active&&t.cue_inst.shoot_at(t.node.getPosition())})},reset:function(){this.node.x=this.start_x,this.node.y=this.start_y,this.node.scale=1,this.body.linearVelocity=cc.p(0,0),this.body.angularVelocity=0},onBeginContact:function(t,e,n){if(2==n.node.groupIndex)return this.node.scale=0,void this.scheduleOnce(this.reset.bind(this))}}),cc._RF.pop()},{}]},{},["ball","cue","enbale_phy","game_scence","white_ball"]);